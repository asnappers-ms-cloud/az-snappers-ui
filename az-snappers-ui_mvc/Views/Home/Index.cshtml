
@using az_snappers_ui_mvc.Models;

@{
    ViewData["Title"] = "Home Page";

}


<div>
    @{
        var property = ViewBag.Message;
    }
    <div>
        <table>
            <tr>
                <td style="text-align:left;font-size:36px;resize:horizontal">
                    $@property.Price
                <td>

                <td class="td-price">
                     @property.bed bd
                </td>
                <td class="td-price">
                    @property.bed bath
                </td>
                <td class="td-price">
                    @property.bed sqft
                </td>
            <tr>
            <tr>
                <td class="td-price">
                    @property.Address 
                </td>
            </tr>
        </table>
        @*<div style="text-align:left;font-size:36px;">$@property.Price</div><div>@property.bed bd</div><div>@property.bath bath</div><div>@property.area sqft</div>
            <div>@property.Address</div>*@
    </div>
    <div class="container py-4">

        <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
            <div class="carousel-inner">
                @{
                    var first = true;
                }
                @foreach (var item in property.ImageUrls)
                {
                <div class="carousel-item @(first?Html.Raw("active"):Html.Raw(""))">
                    <img class="d-block w-100" src="@item" alt="@item">
                </div>
                    first = false;
                }
            </div>
            <a class="carousel-control-prev" href="#carouselExampleControls" role="button"
               data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleControls" role="button"
               data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>

    </div>

    <script type="text/javascript">

        (function () {
            var div = document.createElement("div");
            document.getElementsByTagName('body')[0].appendChild(div);
            div.outerHTML = "<div id='botDiv' style='height: 38px; position: fixed; bottom: 0; z-index: 1000; background-color: orangered; right: 0;'><div id='botTitleBar' style='height: 38px; width: 400px; position:fixed; cursor: pointer; background-color: orangered;'></div><iframe width='400px' height='600px' src='https://webchat.botframework.com/embed/az-snapper-qnaservice-bot?s=lUZ5sl8_qpk.SdoZc13jeGQE37K0kQGF0gdyPK7UrECxgsEm2lFMxu8'></iframe></div>";

            document.querySelector('body').addEventListener('click', function (e) {
                e.target.matches = e.target.matches || e.target.msMatchesSelector;
                if (e.target.matches('#botTitleBar')) {
                    var botDiv = document.querySelector('#botDiv');
                    botDiv.style.height = botDiv.style.height == '600px' ? '38px' : '600px';
                };
            });
        }());

    </script>

</div>
